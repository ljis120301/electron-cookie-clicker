(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{4378:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return s(7129)}])},7129:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(4246),r=s(8579),n=s.n(r),i=s(7378);function o(e){let{name:t,cost:s,count:r,description:i,onPurchase:o,canAfford:c,image:l}=e;return(0,a.jsxs)("button",{onClick:o,className:"flex items-center w-full p-4 rounded-lg transition-colors ".concat(c?"bg-amber-100 hover:bg-amber-200":"bg-gray-100 cursor-not-allowed opacity-75"),disabled:!c,children:[(0,a.jsx)("div",{className:"w-12 h-12 mr-4 relative flex-shrink-0",children:(0,a.jsx)(n(),{src:l,alt:t,fill:!0,className:"object-contain",sizes:"48px"})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("h3",{className:"font-bold text-amber-900",children:t}),(0,a.jsx)("p",{className:"text-sm text-amber-700",children:i}),(0,a.jsxs)("p",{className:"text-xs text-amber-600",children:["Owned: ",r]})]}),(0,a.jsxs)("span",{className:"font-bold ml-4 ".concat(c?"text-amber-800":"text-gray-600"),children:[s," cookies"]})]})}var c=s(5839);function l(e){let{angle:t,index:s,total:r}=e;return(0,a.jsx)(c.E.div,{className:"absolute w-8 h-8 z-20 left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",style:{rotate:"".concat(t,"deg"),transformOrigin:"center center"},children:(0,a.jsx)(c.E.div,{initial:{x:80},animate:{x:[80,65,80],scale:[1,.9,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut",times:[0,.5,1],delay:s/r*1},style:{transformOrigin:"left center"},children:(0,a.jsx)("div",{style:{transform:"rotate(".concat(-t-45,"deg)")},children:(0,a.jsx)(n(),{src:"/upgrades/cursor.png",alt:"Auto Clicker",width:32,height:32,className:"pointer-events-none"})})})})}var m=s(411);function d(){let[e,t]=(0,i.useState)(0),[s,r]=(0,i.useState)({cursor:{count:0,baseCost:15,name:"Cursor",description:"Auto-clicks once every 10 seconds",cps:.1,image:"/upgrades/cursor.png"},grandma:{count:0,baseCost:100,name:"Grandma",description:"A nice grandma to bake cookies",cps:1,image:"/upgrades/grandma.png"},farm:{count:0,baseCost:1100,name:"Cookie Farm",description:"Grows cookie plants",cps:8,image:"/upgrades/cookie-farm.png"},mine:{count:0,baseCost:12e3,name:"Cookie Mine",description:"Mines cookie dough from the ground",cps:47,image:"/upgrades/cookie-mine.png"},factory:{count:0,baseCost:13e4,name:"Cookie Factory",description:"Mass produces cookies",cps:260,image:"/upgrades/cookie-factory.webp"},bank:{count:0,baseCost:14e5,name:"Cookie Bank",description:"Generates cookies from interest",cps:1400,image:"/upgrades/cookie-bank.webp"},temple:{count:0,baseCost:2e7,name:"Cookie Temple",description:"Generates cookies through divine powers",cps:7800,image:"/upgrades/temple.webp"},wizardTower:{count:0,baseCost:33e7,name:"Wizard Tower",description:"Conjures cookies using magic",cps:44e3,image:"/upgrades/wizard-tower.webp"}}),d=(e,t)=>Math.floor(e*Math.pow(1.15,t)),u=a=>{let n=s[a],i=d(n.baseCost,n.count);e>=i&&(t(e=>e-i),r(e=>({...e,[a]:{...e[a],count:e[a].count+1}})))};(0,i.useEffect)(()=>{let e=setInterval(()=>{let e=0;Object.values(s).forEach(t=>{e+=t.count*t.cps}),e>0&&t(t=>t+e)},1e3);return()=>clearInterval(e)},[s]);let x=Math.min(s.cursor.count,8),[p,h]=(0,i.useState)([]),b=e=>{let t=Math.random(),s={id:t,angle:e};h(e=>[...e,s]),setTimeout(()=>{h(e=>e.filter(e=>e.id!==t))},1e3)};return(0,i.useEffect)(()=>{let e=setInterval(()=>{x>0&&b(Math.floor(360*Math.random()))},1e3/x);return()=>clearInterval(e)},[x]),(0,a.jsxs)("div",{className:"grid grid-rows-[auto_1fr_auto] min-h-screen p-4 md:p-8 bg-amber-50 overflow-x-hidden",children:[(0,a.jsxs)("h1",{className:"text-2xl md:text-4xl font-bold text-amber-800 mb-4 md:mb-8 text-center",children:["Cookies: ",Number.isInteger(e)?e:e.toFixed(1)]}),(0,a.jsxs)("main",{className:"relative flex flex-col lg:flex-row items-center justify-center gap-8 min-h-[60vh]",children:[(0,a.jsx)("div",{className:"relative w-full lg:w-1/2 flex justify-center items-center",children:(0,a.jsxs)("div",{className:"relative",children:[[...Array(x)].map((e,t)=>(0,a.jsx)(l,{index:t,total:x,angle:360/x*t},t)),(0,a.jsx)(m.M,{children:p.map(e=>(0,a.jsx)(c.E.div,{initial:{scale:1,opacity:1},animate:{scale:1.5,opacity:0},exit:{opacity:0},transition:{duration:.5},className:"absolute left-1/2 top-1/2 w-4 h-4 -ml-2 -mt-2",children:(0,a.jsx)(c.E.div,{className:"w-full h-full bg-amber-400 rounded-full",initial:{scale:0},animate:{scale:1},transition:{duration:.2}})},e.id))}),(0,a.jsx)(c.E.button,{onClick:()=>{t(e=>e+1),b(360*Math.random())},whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative z-10 flex items-center justify-center",children:(0,a.jsx)("div",{className:"relative w-[150px] h-[150px] md:w-[200px] md:h-[200px]",children:(0,a.jsx)(n(),{src:"/cookie.png",alt:"Cookie",fill:!0,style:{objectFit:"contain"},priority:!0,sizes:"(max-width: 768px) 150px, 200px"})})})]})}),(0,a.jsxs)("div",{className:"w-full lg:w-80 h-[50vh] lg:h-[70vh] overflow-y-auto bg-amber-50/80 p-0 rounded-lg shadow-lg relative",children:[(0,a.jsx)("div",{className:"sticky top-0 z-20 px-4 md:px-6 py-3 bg-gradient-to-b from-amber-50 to-amber-50/95 shadow-md rounded",children:(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-amber-800",children:"Upgrades"})}),(0,a.jsx)("div",{className:"space-y-4 p-4 md:p-6",children:Object.entries(s).map(t=>{let[s,r]=t;return(0,a.jsx)(o,{name:r.name,description:r.description,cost:d(r.baseCost,r.count),count:r.count,image:r.image,onPurchase:()=>u(s),canAfford:e>=d(r.baseCost,r.count)},s)})})]})]}),(0,a.jsxs)("footer",{className:"text-amber-600 mt-4 md:mt-8",children:[(0,a.jsx)("p",{className:"text-center mb-2 md:mb-4",children:"Click the cookie to earn more cookies!"}),(0,a.jsxs)("div",{className:"w-full max-w-3xl mx-auto bg-amber-100 rounded-lg p-3 md:p-4",children:[(0,a.jsx)("h2",{className:"text-lg md:text-xl font-bold text-amber-800 mb-2 md:mb-3",children:"Purchased Upgrades"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 md:gap-3",children:Object.entries(s).filter(e=>{let[t,s]=e;return s.count>0}).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center bg-amber-50 rounded-lg p-2 shadow-sm text-sm md:text-base",children:[(0,a.jsx)(n(),{src:s.image,alt:s.name,width:32,height:32,className:"w-6 h-6 md:w-8 md:h-8 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-amber-900",children:s.name}),(0,a.jsxs)("p",{className:"text-xs md:text-sm text-amber-700",children:["Owned: ",s.count]})]})]},t)})})]})]})]})}}},function(e){e.O(0,[579,76,888,774,179],function(){return e(e.s=4378)}),_N_E=e.O()}]);